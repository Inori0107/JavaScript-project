<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <script>
    const data = [
      {
        name: "時段一",
        data: [
          {
            name: "星期一",
            value: 18.2,
          },
          {
            name: "星期二",
            value: 17.3,
          },
          {
            name: "星期三",
            value: 15.0,
          },
          {
            name: '星期四',
            value: 13.4,
          }
        ],
      },
      {
        name: "時段二",
        data: [
          {
            name: "星期一",
            value: 23.8,
          },
          {
            name: "星期二",
            value: 25.1,
          },
          {
            name: "星期三",
            value: 20.6,
          },
          {
            name: '星期四',
            value: 17.8,
          }
        ],
      },
      {
        name: "時段三",
        data: [
          {
            name: "星期一",
            value: 20.6,
          },
          {
            name: "星期二",
            value: 21.5,
          },
          {
            name: "星期三",
            value: 18.4,
          },
          {
            name: '星期四',
            value: 15.7,
          }
        ],
      },
    ]
    // 第一題
    document.write(`<table border=1>`)
    document.write(`<tr>`)
    document.write(`<td></td>`) // 多一格
    for (let i = 0; i < data[0].data.length; i++) {
      document.write(`<td>` + data[0].data[i].name + `</td>`)
    }
    for (let i in data) {
      document.write(`<tr>`);
      document.write(`<td>` + data[i].name + `</td>`)
      for (let j in data[i].data) {
        document.write(`<td>` + data[i].data[j].value + `</td>`)
      }
      document.write(`</tr>`)
    }
    document.write(`</table>`)
    document.write(`<br>`)
    // 第二題
    let average_Days = [0, 0, 0, 0]
    for (let i = 0; i < 3; i++) {
      for (let j in data[i].data) {
        average_Days[j] += data[i].data[j].value
      }
    }
    for (let i in average_Days) {
      average_Days[i] /= data.length
    }
    for (let i in average_Days) {
      document.write(`${data[0].data[i].name}的平均溫度為${average_Days[i]}<br>`)
    }
    document.write(`<br>`)
    // 第三題
    for (let i in data) {
      let average_Time = 0
      for (let j in data[i].data) {
        average_Time += data[i].data[j].value / data[0].data.length
      } document.write(`${data[i].name}的平均溫度為${average_Time}<br>`)
    }
    document.write(`<br>`)

    // 第四題

    let max_Time = 0
    let max_Day = ""
    let max_Period = ""
    for (let i in data) {
      for (let j in data[i].data) {
        if (data[i].data[j].value > max_Time) {
          max_Time = data[i].data[j].value
          // console.log(data[i].name)
          max_Day = data[i].data[j].name
          max_Period = data[i].name
          // console.log(data[i].data[j].name)
        }
      }
    }
    document.write('最高溫度的時段：' + max_Period + '，日子：' + max_Day)
    document.write(`<br>`)

    let min_Time = data[0].data[0].value
    let min_Day = ""
    let min_Period = ""
    for (let i in data) {
      for (let j in data[i].data) {
        if (data[i].data[j].value < min_Time) {
          min_Time = data[i].data[j].value
          min_Day = data[i].data[j].name
          min_Period = data[i].name
        }
      }
    }
    document.write('最低溫度的時段：' + min_Period + '，日子：' + min_Day)
  </script>
</body>
</html>